{"mappings":"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","sources":["src/index.js"],"sourcesContent":["// import \"./styles/main.scss\";\n//get all nacessary elements from DOM\n\nconst app = document.querySelector('.weather-app');\nconst temp = document.querySelector('.temp');\nconst dateOutput = document.querySelector('.date');\nconst timeOutput = document.querySelector('.time');\nconst conditionOutput = document.querySelector('.condition');\nconst nameOutput = document.querySelector('.name');\nconst icon = document.querySelector('.icon');\nconst cloudOutput = document.querySelector('.cloud');\nconst humidityOutput = document.querySelector('.humidity');\nconst windOutput = document.querySelector('.wind');\nconst form = document.getElementById('locationInput');\nconst search = document.querySelector('.search');\nconst btn = document.querySelector('.submit');\nconst cities = document.querySelectorAll('.city');\n\n//default city when the page load\n\nlet cityInput = 'London';\n\n//add click event for each city in the panel\n\ncities.forEach(city => {\n  city.addEventListener('click', e => {\n    //change from default city to the clicked one\n\n    cityInput = e.target.innerHTML;\n\n    /*function that fetches and displays all the data\n    from the weather API */\n\n    fetchWeatherData();\n    //fade out the app (simple animation)\n    app.style.opacity = '0';\n  });\n});\n\n//add submit event to the form\n\nform.addEventListener('submit', e => {\n  /*if the input fill(search bar) is empty,\n  throw and alert */\n\n  if (search.value.length == 0) {\n    alert('Please type in a city name');\n  } else {\n    /*change from default city to the one\n    written in the input field */\n    cityInput = search.value;\n    /*function that fetches and displays all the data\n    from the weather API */\n    fetchWeatherData();\n\n    /*remove all text from the input fill*/\n    search.value = '';\n\n    app.style.opacity = '0';\n  }\n  //prevents the default behavior of the form\n  e.preventDefault();\n});\n\n/*function that return a day of the week\n(Monday, Tuesday, Friday...) from a date (12.03.21)\nwe wil use the function later */\n\nfunction dayOfTheWeek(day, month, year) {\n  const weekday = [\n    'Sunday',\n    'Monday',\n    'Tuesday',\n    'Wednesday',\n    'Thursday',\n    'Friday',\n    'Saturday',\n  ];\n  return weekday[new Date(`${day}/${month}/${year}`).getDay()];\n}\n\n/*function that fetches and displays all the data\n  from the weather API */\nfunction fetchWeatherData() {\n  /*fetch the data and dynamicaly add the city\n  name with template literals*/\n  //your own key\n  fetch(\n    `https://api.weatherapi.com/v1/current.json?key=1afb03c498bb474489c193714230102&q=${cityInput}&aqi=yes`\n  )\n    /*Take the data (which is in json format)\n    and convert it to a regular JS object */\n    .then(response => response.json())\n    .then(data => {\n      /*You can console.log tha data to see what is available */\n      console.log(data);\n\n      /*Let start by adding the temperature\n      and weather condition to the page */\n      temp.innerHTML = data.current.temp_c + '&#176;';\n      conditionOutput.innerHTML = data.current.condition.text;\n\n      /*Get the date and time from the city and extract\n      the day, month, year and time into individual variables */\n\n      const date = data.location.localtime;\n      const y = parseInt(date.substr(0, 4));\n      const m = parseInt(date.substr(5, 2));\n      const d = parseInt(date.substr(8, 2));\n      const time = date.substr(11);\n\n      /*reformat the date into something more appeling\n      and add it to the page*/\n      //Original format: 2021-10-09 17:53\n      //New format: 17:53 - Friday 9, 10 2021\n      dateOutput.innerHTML = `${dayOfTheWeek(d, m, y)} ${d}, ${m} ${y}`;\n      timeOutput.innerHTML = time;\n\n      /*Add the name of the city into the page */\n      nameOutput.innerHTML = data.location.name;\n\n      /*Get the corresponding icon url for the\n      weather and extract a part of it*/\n      const iconId = data.current.condition.icon.substr(\n        '//cdn.weatherapi.com/weather/64x64'.length\n      );\n      /*reformat the icon url to your own \n      local folder path and add it to the page*/\n\n      icon.src = './images/icons/' + iconId;\n\n      //add the weather details to the page\n      cloudOutput.innerHTML = data.current.cloud + '%';\n      humidityOutput.innerHTML = data.current.humidity + '%';\n      windOutput.innerHTML = data.current.wind_kph + 'km/h';\n\n      //set default time of day\n      let timeOfDay = 'day';\n\n      //get the unique ID for each weather condition\n      const code = data.current.condition.code;\n\n      //change to night if it's night in the city\n      if (!data.current.is_day) {\n        timeOfDay = 'night';\n      }\n      if (code == 1000) {\n        /*set the background img to clear if \n        the weather is clear*/\n        app.style.backgroundImage = `url(../images/${timeOfDay}/clear.jpg)`;\n        /*change the button bg color depending\n        on if it's day or night */\n        btn.style.background = '#e5ba92';\n        if (timeOfDay == 'night') {\n          btn.style.background = '#181e27';\n        }\n      }\n      //same thing for cloudy weather\n      else if (\n        code == 1003 ||\n        code == 1006 ||\n        code == 1009 ||\n        code == 1030 ||\n        code == 1069 ||\n        code == 1087 ||\n        code == 1135 ||\n        code == 1273 ||\n        code == 1276 ||\n        code == 1279 ||\n        code == 1282\n      ) {\n        app.style.backgroundImage = `url(../images/${timeOfDay}/cloudy.jpg)`;\n        btn.style.background = '#fa6d1b';\n        if (timeOfDay == 'night') {\n          btn.style.background = '#181e27';\n        }\n      } else if (\n        code == 1063 ||\n        code == 1069 ||\n        code == 1072 ||\n        code == 1150 ||\n        code == 1153 ||\n        code == 1180 ||\n        code == 1183 ||\n        code == 1186 ||\n        code == 1189 ||\n        code == 1192 ||\n        code == 1195 ||\n        code == 1204 ||\n        code == 1207 ||\n        code == 1240 ||\n        code == 1243 ||\n        code == 1246 ||\n        code == 1249 ||\n        code == 1252\n      ) {\n        app.style.backgroundImage = `url(../images/${timeOfDay}/rainy.jpg)`;\n        btn.style.background = '#647d75';\n        if (timeOfDay == 'night') {\n          btn.style.background = '#325c80';\n        } //and finally snow\n      } else {\n        app.style.backgroundImage = `url(../images/${timeOfDay}/snowy.jpg)`;\n        btn.style.background = '#4d72aa';\n        if (timeOfDay == 'night') {\n          btn.style.background = '#1b1b1b';\n        }\n      } //fade in the page once all is done\n\n      app.style.opacity = '1';\n    })\n    /*if the users type of city that doesn't exist,\n    throu and alert */\n    .catch(() => {\n      alert('City not found, please try again');\n      app.style.opacity = '1';\n    });\n}\n\n//call the function on page load\nfetchWeatherData();\n\n//fade in the page\napp.style.opacity = '1';\n"],"names":["app","document","querySelector","temp","dateOutput","timeOutput","conditionOutput","nameOutput","icon","cloudOutput","humidityOutput","windOutput","form","getElementById","search","btn","cities","querySelectorAll","cityInput","dayOfTheWeek","day","month","year","Date","concat","getDay","fetchWeatherData","fetch","then","response","json","data","console","log","innerHTML","current","temp_c","condition","text","date","location","localtime","y","parseInt","substr","m","d","time","name","iconId","src","cloud","humidity","wind_kph","timeOfDay","code","is_day","style","backgroundImage","background","opacity","catch","alert","forEach","city","addEventListener","e","target","value","length","preventDefault"],"version":3,"file":"index.950659ba.js.map"}